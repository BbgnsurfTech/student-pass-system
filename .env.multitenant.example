# Multi-Tenant Student Pass System Environment Configuration

# ===========================================
# APPLICATION CONFIGURATION
# ===========================================
NODE_ENV=production
PORT=3000
API_PREFIX=api/v1

# Application URLs
APP_URL=https://app.studentpass.com
ONBOARDING_URL=https://signup.studentpass.com
API_BASE_URL=api.studentpass.com

# Allowed Origins for CORS
ALLOWED_ORIGINS=https://app.studentpass.com,https://*.studentpass.com

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# Master Database (Tenant Management)
MASTER_DATABASE_URL=postgresql://postgres:your_password@localhost:5432/student_pass_master

# Default Tenant Database Template
TENANT_DATABASE_TEMPLATE=postgresql://postgres:your_password@localhost:5432/tenant_{tenant_id}

# Database Pool Configuration
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000

# ===========================================
# REDIS CONFIGURATION
# ===========================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Redis Cluster Configuration (if using cluster)
REDIS_CLUSTER_NODES=localhost:7000,localhost:7001,localhost:7002

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# JWT Configuration
JWT_SECRET=your_super_secure_jwt_secret_key_here_make_it_long_and_random
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=30d

# Encryption Keys
ENCRYPTION_KEY=your_32_character_encryption_key_here
MASTER_ENCRYPTION_KEY=another_32_character_key_for_tenant_data

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# MULTI-TENANT CONFIGURATION
# ===========================================

# Default Tenant Settings
DEFAULT_TENANT_TIER=STANDARD
DEFAULT_MAX_USERS=1000
DEFAULT_MAX_STUDENTS=10000
DEFAULT_STORAGE_QUOTA_GB=10

# Tenant Features
ENTERPRISE_FEATURES=custom_branding,enterprise_integrations,advanced_analytics,blockchain_passes,iot_integration,predictive_analytics,compliance_reporting
PREMIUM_FEATURES=custom_branding,advanced_analytics,api_access
STANDARD_FEATURES=basic_analytics,email_notifications

# ===========================================
# EMAIL CONFIGURATION
# ===========================================

# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_FROM_EMAIL=noreply@studentpass.com
SENDGRID_FROM_NAME=Student Pass System

# SMTP Configuration (alternative to SendGrid)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password

# ===========================================
# AWS SERVICES CONFIGURATION
# ===========================================

# AWS Credentials
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# S3 Configuration
AWS_S3_BUCKET=studentpass-assets
AWS_S3_REGION=us-east-1
CDN_URL=https://cdn.studentpass.com

# SES Configuration
AWS_SES_REGION=us-east-1
AWS_SES_FROM_EMAIL=noreply@studentpass.com

# ===========================================
# SEARCH CONFIGURATION (Elasticsearch)
# ===========================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your_elasticsearch_password
ELASTICSEARCH_INDEX_PREFIX=studentpass

# ===========================================
# BLOCKCHAIN CONFIGURATION
# ===========================================

# Ethereum Network
ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/your_infura_project_id
ETHEREUM_TESTNET_RPC_URL=https://goerli.infura.io/v3/your_infura_project_id
BLOCKCHAIN_PRIVATE_KEY=your_blockchain_private_key_without_0x_prefix

# Polygon Network
POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/your_infura_project_id
POLYGON_TESTNET_RPC_URL=https://polygon-mumbai.infura.io/v3/your_infura_project_id

# Smart Contract Addresses
STUDENT_PASS_CONTRACT_ADDRESS=0x1234567890123456789012345678901234567890
CERTIFICATE_CONTRACT_ADDRESS=0x0987654321098765432109876543210987654321

# IPFS Configuration
IPFS_API_URL=https://ipfs.infura.io:5001
IPFS_GATEWAY_URL=https://ipfs.io/ipfs/

# ===========================================
# IOT CONFIGURATION
# ===========================================

# MQTT Broker
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_USERNAME=your_mqtt_username
MQTT_PASSWORD=your_mqtt_password

# InfluxDB for IoT Time Series Data
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token
INFLUXDB_ORG=studentpass
INFLUXDB_BUCKET=iot-data

# ===========================================
# INTEGRATION SERVICES
# ===========================================

# Active Directory / LDAP
LDAP_URL=ldap://your-domain-controller.com:389
LDAP_BIND_DN=cn=admin,dc=example,dc=com
LDAP_BIND_PASSWORD=your_ldap_password
LDAP_SEARCH_BASE=dc=example,dc=com

# SAML SSO
SAML_ENTRY_POINT=https://your-sso-provider.com/saml/sso
SAML_ISSUER=https://studentpass.com
SAML_CERT_PATH=./certificates/saml.crt
SAML_KEY_PATH=./certificates/saml.key

# Canvas LMS Integration
CANVAS_API_URL=https://your-canvas-instance.instructure.com/api/v1
CANVAS_API_TOKEN=your_canvas_api_token

# Banner SIS Integration
BANNER_API_URL=https://your-banner-instance.com/api
BANNER_API_USERNAME=your_banner_username
BANNER_API_PASSWORD=your_banner_password

# ===========================================
# EXTERNAL API SERVICES
# ===========================================

# Google Services
GOOGLE_MAPS_API_KEY=your_google_maps_api_key
GOOGLE_OAUTH_CLIENT_ID=your_google_oauth_client_id
GOOGLE_OAUTH_CLIENT_SECRET=your_google_oauth_client_secret

# Microsoft Services
MICROSOFT_CLIENT_ID=your_microsoft_client_id
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret

# Twilio for SMS
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# MONITORING & ANALYTICS
# ===========================================

# Application Monitoring
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
NEW_RELIC_LICENSE_KEY=your_newrelic_license_key

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_token

# Custom Analytics Webhook
ANALYTICS_WEBHOOK_URL=https://analytics.yourcompany.com/webhook

# ===========================================
# MACHINE LEARNING CONFIGURATION
# ===========================================

# TensorFlow Serving
TENSORFLOW_SERVING_URL=http://localhost:8501
ML_MODEL_BUCKET=studentpass-ml-models

# Prediction Model Configuration
ENABLE_STUDENT_SUCCESS_PREDICTION=true
ENABLE_CAMPUS_UTILIZATION_FORECASTING=true
MODEL_UPDATE_INTERVAL_HOURS=24

# ===========================================
# BACKUP & RECOVERY
# ===========================================

# Database Backup
BACKUP_S3_BUCKET=studentpass-backups
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# File Backup
FILE_BACKUP_ENABLED=true
FILE_BACKUP_S3_BUCKET=studentpass-file-backups

# ===========================================
# COMPLIANCE CONFIGURATION
# ===========================================

# GDPR Configuration
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=2555  # 7 years
GDPR_CONTACT_EMAIL=privacy@studentpass.com

# FERPA Configuration
FERPA_ENABLED=true
FERPA_AUDIT_RETENTION_YEARS=5

# SOC2 Configuration
SOC2_AUDIT_LOGGING=true
SOC2_LOG_RETENTION_YEARS=7

# ===========================================
# DEVELOPMENT & TESTING
# ===========================================

# Development Settings
LOG_LEVEL=info
DEBUG=studentpass:*

# Testing
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/student_pass_test
JEST_TIMEOUT=10000

# Load Testing
ENABLE_LOAD_TEST_MODE=false
LOAD_TEST_MAX_TENANTS=100

# Feature Flags
FEATURE_BLOCKCHAIN=true
FEATURE_IOT=true
FEATURE_ML_PREDICTIONS=true
FEATURE_ADVANCED_ANALYTICS=true

# ===========================================
# KUBERNETES CONFIGURATION (if deploying to K8s)
# ===========================================

# Service Discovery
KUBERNETES_NAMESPACE=studentpass
SERVICE_DISCOVERY_ENABLED=true

# Pod Configuration
REPLICAS=3
MAX_REPLICAS=10
CPU_LIMIT=1000m
MEMORY_LIMIT=2Gi

# Ingress
INGRESS_CLASS=nginx
TLS_SECRET_NAME=studentpass-tls

# ===========================================
# ADDITIONAL SERVICES
# ===========================================

# Queue Configuration
QUEUE_REDIS_URL=redis://localhost:6379/1
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRY_ATTEMPTS=3

# Webhook Configuration
WEBHOOK_SIGNING_SECRET=your_webhook_signing_secret
WEBHOOK_TIMEOUT_MS=5000
WEBHOOK_MAX_RETRY_ATTEMPTS=3

# File Processing
MAX_FILE_SIZE=10MB
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx
IMAGE_QUALITY=85
THUMBNAIL_SIZE=200x200